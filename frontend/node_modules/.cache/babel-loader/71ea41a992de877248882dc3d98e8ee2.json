{"ast":null,"code":"var _jsxFileName = \"/Users/andre/Temporaria/whticket-soon/Habyb/whatticketsoondes/frontend/src/components/MessageOptionsMenu/index.js\";\nimport React, { useState, useContext } from \"react\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport { i18n } from \"../../translate/i18n\";\nimport api from \"../../services/api\";\nimport ConfirmationModal from \"../ConfirmationModal\";\nimport { Menu } from \"@material-ui/core\";\nimport { ReplyMessageContext } from \"../../context/ReplyingMessage/ReplyingMessageContext\";\nimport EditMessageModal from \"../EditMessageModal\";\nimport toastError from \"../../errors/toastError\";\nconst MessageOptionsMenu = ({\n  message,\n  menuOpen,\n  handleClose,\n  anchorEl\n}) => {\n  const {\n    setReplyingMessage\n  } = useContext(ReplyMessageContext);\n  const [confirmationOpen, setConfirmationOpen] = useState(false);\n  const [confirmationEditOpen, setEditMessageOpenModal] = useState(false);\n  const [messageEdit, setMessageEdit] = useState(false);\n  const handleDeleteMessage = async () => {\n    try {\n      await api.delete(`/messages/${message.id}`);\n    } catch (err) {\n      toastError(err);\n    }\n  };\n  const handleEditMessage = async () => {\n    try {\n      await api.put(`/messages/${message.id}`);\n    } catch (err) {\n      toastError(err);\n    }\n  };\n  const hanldeReplyMessage = () => {\n    setReplyingMessage(message);\n    handleClose();\n  };\n  const handleOpenConfirmationModal = e => {\n    setConfirmationOpen(true);\n    handleClose();\n  };\n  const handleOpenEditMessageModal = e => {\n    setEditMessageOpenModal(true);\n    setMessageEdit(message);\n    handleClose();\n  };\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(ConfirmationModal, {\n    title: i18n.t(\"messageOptionsMenu.confirmationModal.title\"),\n    open: confirmationOpen,\n    onClose: setConfirmationOpen,\n    onConfirm: handleDeleteMessage,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 4\n    }\n  }, i18n.t(\"messageOptionsMenu.confirmationModal.message\")), /*#__PURE__*/React.createElement(EditMessageModal, {\n    title: i18n.t(\"messageOptionsMenu.editMessageModal.title\"),\n    open: confirmationEditOpen,\n    onClose: setEditMessageOpenModal,\n    onSave: handleEditMessage,\n    message: message,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 4\n    }\n  }, i18n.t(\"messageOptionsMenu.confirmationModal.message\")), /*#__PURE__*/React.createElement(Menu, {\n    anchorEl: anchorEl,\n    getContentAnchorEl: null,\n    anchorOrigin: {\n      vertical: \"bottom\",\n      horizontal: \"right\"\n    },\n    transformOrigin: {\n      vertical: \"top\",\n      horizontal: \"right\"\n    },\n    open: menuOpen,\n    onClose: handleClose,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 4\n    }\n  }, message.fromMe && /*#__PURE__*/React.createElement(MenuItem, {\n    onClick: handleOpenEditMessageModal,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 6\n    }\n  }, i18n.t(\"messageOptionsMenu.edit\")), message.fromMe && /*#__PURE__*/React.createElement(MenuItem, {\n    onClick: handleOpenConfirmationModal,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 6\n    }\n  }, i18n.t(\"messageOptionsMenu.delete\")), /*#__PURE__*/React.createElement(MenuItem, {\n    onClick: hanldeReplyMessage,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 5\n    }\n  }, i18n.t(\"messageOptionsMenu.reply\"))));\n};\nexport default MessageOptionsMenu;","map":{"version":3,"names":["React","useState","useContext","MenuItem","i18n","api","ConfirmationModal","Menu","ReplyMessageContext","EditMessageModal","toastError","MessageOptionsMenu","message","menuOpen","handleClose","anchorEl","setReplyingMessage","confirmationOpen","setConfirmationOpen","confirmationEditOpen","setEditMessageOpenModal","messageEdit","setMessageEdit","handleDeleteMessage","delete","id","err","handleEditMessage","put","hanldeReplyMessage","handleOpenConfirmationModal","e","handleOpenEditMessageModal","createElement","Fragment","title","t","open","onClose","onConfirm","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","onSave","getContentAnchorEl","anchorOrigin","vertical","horizontal","transformOrigin","fromMe","onClick"],"sources":["/Users/andre/Temporaria/whticket-soon/Habyb/whatticketsoondes/frontend/src/components/MessageOptionsMenu/index.js"],"sourcesContent":["import React, { useState, useContext } from \"react\";\n\nimport MenuItem from \"@material-ui/core/MenuItem\";\n\nimport { i18n } from \"../../translate/i18n\";\nimport api from \"../../services/api\";\nimport ConfirmationModal from \"../ConfirmationModal\";\nimport { Menu } from \"@material-ui/core\";\nimport { ReplyMessageContext } from \"../../context/ReplyingMessage/ReplyingMessageContext\";\nimport EditMessageModal from \"../EditMessageModal\";\nimport toastError from \"../../errors/toastError\";\n\nconst MessageOptionsMenu = ({ message, menuOpen, handleClose, anchorEl }) => {\n\tconst { setReplyingMessage } = useContext(ReplyMessageContext);\n\tconst [confirmationOpen, setConfirmationOpen] = useState(false);\n\tconst [confirmationEditOpen, setEditMessageOpenModal] = useState(false);\n\tconst [messageEdit, setMessageEdit] = useState(false);\n\n\tconst handleDeleteMessage = async () => {\n\t\ttry {\n\t\t\tawait api.delete(`/messages/${message.id}`);\n\t\t} catch (err) {\n\t\t\ttoastError(err);\n\t\t}\n\t};\n\n\tconst handleEditMessage = async () => {\n\t\ttry {\n\t\t\tawait api.put(`/messages/${message.id}`);\n\t\t} catch (err) {\n\t\t\ttoastError(err);\n\t\t}\n\t}\n\n\tconst hanldeReplyMessage = () => {\n\t\tsetReplyingMessage(message);\n\t\thandleClose();\n\t};\n\n\tconst handleOpenConfirmationModal = e => {\n\t\tsetConfirmationOpen(true);\n\t\thandleClose();\n\t};\n\n\tconst handleOpenEditMessageModal = e => {\n\t\tsetEditMessageOpenModal(true);\n\t\tsetMessageEdit(message)\n\t\thandleClose();\n\t};\n\n\treturn (\n\t\t<>\n\t\t\t<ConfirmationModal\n\t\t\t\ttitle={i18n.t(\"messageOptionsMenu.confirmationModal.title\")}\n\t\t\t\topen={confirmationOpen}\n\t\t\t\tonClose={setConfirmationOpen}\n\t\t\t\tonConfirm={handleDeleteMessage}\n\t\t\t>\n\t\t\t\t{i18n.t(\"messageOptionsMenu.confirmationModal.message\")}\n\t\t\t</ConfirmationModal>\n\t\t\t<EditMessageModal\n\t\t\t\ttitle={i18n.t(\"messageOptionsMenu.editMessageModal.title\")}\n\t\t\t\topen={confirmationEditOpen}\n\t\t\t\tonClose={setEditMessageOpenModal}\n\t\t\t\tonSave={handleEditMessage}\n\t\t\t\tmessage={message}\n\t\t\t>\n\t\t\t\t{i18n.t(\"messageOptionsMenu.confirmationModal.message\")}\n\t\t\t</EditMessageModal>\n\t\t\t<Menu\n\t\t\t\tanchorEl={anchorEl}\n\t\t\t\tgetContentAnchorEl={null}\n\t\t\t\tanchorOrigin={{\n\t\t\t\t\tvertical: \"bottom\",\n\t\t\t\t\thorizontal: \"right\",\n\t\t\t\t}}\n\t\t\t\ttransformOrigin={{\n\t\t\t\t\tvertical: \"top\",\n\t\t\t\t\thorizontal: \"right\",\n\t\t\t\t}}\n\t\t\t\topen={menuOpen}\n\t\t\t\tonClose={handleClose}\n\t\t\t>\n\t\t\t\t{message.fromMe && (\n\t\t\t\t\t<MenuItem onClick={handleOpenEditMessageModal}>\n\t\t\t\t\t\t{i18n.t(\"messageOptionsMenu.edit\")}\n\t\t\t\t\t</MenuItem>\n\t\t\t\t)}\n\t\t\t\t{message.fromMe && (\n\t\t\t\t\t<MenuItem onClick={handleOpenConfirmationModal}>\n\t\t\t\t\t\t{i18n.t(\"messageOptionsMenu.delete\")}\n\t\t\t\t\t</MenuItem>\n\t\t\t\t)}\n\t\t\t\t<MenuItem onClick={hanldeReplyMessage}>\n\t\t\t\t\t{i18n.t(\"messageOptionsMenu.reply\")}\n\t\t\t\t</MenuItem>\n\t\t\t</Menu>\n\t\t</>\n\t);\n};\n\nexport default MessageOptionsMenu;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}